---
import type { CollectionEntry } from "astro:content";
import clsx from "clsx";

interface Props {
	post: CollectionEntry<"post">;
}

const { post } = Astro.props;

const classes = [
	// Setup Prose
	"prose prose-slate max-w-none",
	// all headings
	"prose-headings:font-normal prose-headings:text-ink prose-headings:mt-8 prose-headings:mb-4",
	// h1
	"prose-h1:text-3xl prose-h1:mt-0 prose-h1:mb-6",
	// h2
	"prose-h2:text-2xl prose-h2:mt-12 prose-h2:mb-4",
	// h3
	"prose-h3:text-xl prose-h3:mt-8 prose-h3:mb-3",
	// h4
	"prose-h4:text-lg prose-h4:mt-6 prose-h4:mb-2",
	// p
	"prose-p:text-xl prose-p:text-ink prose-p:mb-4",
	// ol
	"prose-ol:text-xl prose-ol:text-ink prose-ol:mb-4",
	// ul
	"prose-ul:text-xl prose-ul:text-ink prose-ul:mb-4",
	// li
	"prose-li:my-1 prose-li:text-ink",
	// links
	"prose-a:text-ink prose-a:underline prose-a:decoration-1 hover:prose-a:decoration-2",
	// code
	"prose-code:text-xs prose-code:before:hidden prose-code:after:hidden",
	// code block
	"prose-pre:rounded-sm prose-pre:text-xs prose-pre:leading-normal prose-pre:py-3 prose-pre:px-4 prose-pre:mb-4",
	// blockquotes
	"prose-blockquote:border-l-4 prose-blockquote:border-gray-300 prose-blockquote:pl-4 prose-blockquote:italic prose-blockquote:text-ink-light prose-blockquote:mb-4",
];

const articleClasses = clsx(classes);
---

<style>
	html {
		scroll-behavior: smooth;
	}
</style>

<div
	class="max-w-7xl mx-auto px-6 pt-6 pb-12 grid grid-cols-1 lg:grid-cols-[1fr_300px] gap-8"
>
	<!-- Main Content Area -->
	<div class="max-w-none">
		<header class="mb-8">
			<nav class="flex space-x-6 mb-2">
				<a href="/" class="text-ink hover:underline text-lg">Home</a>
				<a href="/blog" class="text-ink hover:underline text-lg">Blog</a
				>
				<a href="/projects" class="text-ink hover:underline text-lg"
					>Projects</a
				>
			</nav>
			<hr class="border-gray-600 mb-8" />
		</header>

		<article
			class={`${articleClasses} relative`}
			style="counter-reset: sidenote-counter;"
		>
			<slot />
		</article>
	</div>

	<!-- Sidenotes Area -->
	<aside class="hidden lg:block">
		<!-- Sidenotes will be positioned here via CSS -->
	</aside>
</div>
